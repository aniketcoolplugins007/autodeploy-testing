name: Deploy After Approval Example

on:
  workflow_dispatch:
  push:
    branches: [ main ]

jobs:
  plugin-check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Run plugin check
        run: echo "Running plugin validation..."
        
  deploy:
    name: Deploy new tag
    runs-on: ubuntu-latest
    needs: plugin-check
    environment:
      name: deploy-new-tag  # configure this in repo Settings â†’ Environments
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Run deployment code
        run: |
          echo "ðŸš€ This code runs ONLY after approval!"
